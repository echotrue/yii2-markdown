<?php

namespace echotrue\foobar;

use yii\helpers\Html;

/**
 * This is just an example.
 */
class AutoloadExample extends \yii\base\Widget
{

    public $attributes;

    public function init()
    {
        parent::init(); // TODO: Change the autogenerated stub
    }

    public function run()
    {
        $view                   = $this->getView();
        $this->attributes['id'] = $this->options['id'];
        if ($this->hasModel()) {
            $input = Html::activeTextarea($this->model, $this->attribute, $this->attributes);
        } else {
            $input = Html::textarea($this->name, '', $this->attributes);
        }
        echo $input;
        Assets::register($view);//将Ueditor用到的脚本资源输出到视图

        $js = 'testEditor = editormd("' . $this->options['id'] . '", {
                    width   : "90 % ",
                    height  : 640,
                    syncScrolling : "single",
                    path    : " ../lib / "
                });';
        $view->registerJs($js, $view::POS_END);//将Ueditor初始化脚本也响应到视图中
    }

}
